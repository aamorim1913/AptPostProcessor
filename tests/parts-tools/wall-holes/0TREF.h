BEGIN PGM 0TREF MM
CYCL DEF 7.0 DATUM SHIFT
CYCL DEF 7.1  X+0
CYCL DEF 7.2  Y+0
CYCL DEF 7.3  Z+0
;Old  Datum- X-250.000 Y-200.000 Z-250.000
L Z-10 FMAX M91
TOOL CALL 0 Z S5
STOP
; Set Datum & Point to Mac2Pivot T slot
FN18: SYSREAD Q10 = ID270 NR1 IDX1
FN18: SYSREAD Q13 = ID240 NR1 IDX1
FN18: SYSREAD Q11 = ID270 NR1 IDX2
FN18: SYSREAD Q14 = ID240 NR1 IDX2
FN18: SYSREAD Q12 = ID270 NR1 IDX3
FN18: SYSREAD Q15 = ID240 NR1 IDX3
Q7 = Q13 - Q10
Q8 = Q14 - Q11
Q9 = Q15 - Q12
Q4 = (Q13  +200.660) * (Q13  +200.660) + (Q14  +193.784) * (Q14  +193.784)
Q2 = (Q14  +193.784) /  SQRT(Q4)
STOP
;Heimer on top tool sensor
FN18: SYSREAD Q5 = ID240 NR1 IDX3
FN0: Q3 = 1.995
STOP
;Heimer on top of ball for setup 1
FN18: SYSREAD Q12 = ID270 NR1 IDX3
FN18: SYSREAD Q15 = ID240 NR1 IDX3
Q4 = Q12 - Q3
Q12 = Q4
Q4 = Q15 - Q3
Q15 = Q4
CYCL DEF 7.0 DATUM SHIFT
CYCL DEF 7.1  X+0
CYCL DEF 7.2  Y+0
CYCL DEF 7.3  Z+Q12
L IZ+2 R0 F200
L IX-Q3 R0 F200
L IX-2 R0 F200
L IZ-Q3 R0 F200
L IZ-2 R0 F200
L IX+2 R0 F25
STOP
;Heimer at left of ball for setup 1
FN18: SYSREAD Q10 = ID270 NR1 IDX1
FN18: SYSREAD Q13 = ID240 NR1 IDX1
Q4 = Q10 + Q3
Q10 = Q4
Q4 = Q13 + Q3
Q13 = Q4
CYCL DEF 7.0 DATUM SHIFT
CYCL DEF 7.1 X+Q10
CYCL DEF 7.2 Y+0
CYCL DEF 7.3 Z+Q12
L IX-2 R0 F200
L IY+Q3 R0 F200
L IY+2 R0 F200
L IX+Q3 R0 F200
L IX+2 R0 F200
L IY-2 R0 F25
STOP
;Heimer Y to the ball for setup 1
FN18: SYSREAD Q11 = ID270 NR1 IDX2
FN18: SYSREAD Q14 = ID240 NR1 IDX2
Q4 = Q11 - Q3
Q11 = Q4
Q4 = Q14 - Q3
Q14 = Q4
L IY+2 R0 F200
L IZ+2 R0 F200
L IZ+Q3 R0 F200
L IY-2 R0 F200
L IZ-2 R0 F25
CYCL DEF 7.0 DATUM SHIFT
CYCL DEF 7.1  X+0
CYCL DEF 7.2  Y+0
CYCL DEF 7.3  Z+0
STOP
;Heimer on top of ball for setup 2
FN18: SYSREAD Q22 = ID270 NR1 IDX3
FN18: SYSREAD Q25 = ID240 NR1 IDX3
Q4 = Q22 - Q3
Q22 = Q4
Q4 = Q25 - Q3
Q25 = Q4
CYCL DEF 7.0 DATUM SHIFT
CYCL DEF 7.1  X+0
CYCL DEF 7.2  Y+0
CYCL DEF 7.3  Z+Q22
L IZ+2 R0 F200
L IX-Q3 R0 F200
L IX-2 R0 F200
L IZ-Q3 R0 F200
L IZ-2 R0 F200
L IX+2 R0 F25
STOP
;Heimer at left of ball for setup 2
FN18: SYSREAD Q20 = ID270 NR1 IDX1
FN18: SYSREAD Q23 = ID240 NR1 IDX1
Q4 = Q20 + Q3
Q20 = Q4
Q4 = Q23 + Q3
Q23 = Q4
CYCL DEF 7.0 DATUM SHIFT
CYCL DEF 7.1 X+Q20
CYCL DEF 7.2 Y+0
CYCL DEF 7.3 Z+Q22
L IX-2 R0 F200
L IY+Q3 R0 F200
L IY+2 R0 F200
L IX+Q3 R0 F200
L IX+2 R0 F200
L IY-2 R0 F25
STOP
;Heimer Y to the ball for setup 2
FN18: SYSREAD Q21 = ID270 NR1 IDX2
FN18: SYSREAD Q24 = ID240 NR1 IDX2
Q4 = Q21 - Q3
Q21 = Q4
Q4 = Q24 - Q3
Q24 = Q4
L IY+2 R0 F200
L IZ+2 R0 F200
L IZ+Q3 R0 F200
L IY-2 R0 F200
L IZ-2 R0 F25
CYCL DEF 7.0 DATUM SHIFT
CYCL DEF 7.1  X+0
CYCL DEF 7.2  Y+0
CYCL DEF 7.3  Z+0
FN0: Q6 = -9999
FN0: Q17 = 5
FN0: Q16 = +0.000
L Z-10 FMAX M91
;C40-M20EM3] 20MM CRB 2FL 38 LOC FLUTE LEN 38.0 FLUTE EXT 60.0
TOOL DEF 105 L+0.000 R+10.000
TOOL CALL 105 Z S3322
STOP
;tool on zero of sensor
FN18: SYSREAD Q18 = ID240 NR1 IDX3
FN0: Q4 = -4.686000
FN9: IF +Q18 EQU -10 GOTO LBL1
Q4 = Q18 -  Q5
LBL1
Q18 = Q4
FN0: Q27 = 17
FN0: Q26 = +0.000
L Z-10 FMAX M91
;C40-32ERP412] 10MM X 90DEG CRB SPOT DRILL FLUTE LEN 15.0 FLUTE EXT 25.0
TOOL DEF 117 L+0.000 R+5.000
TOOL CALL 117 Z S3500
STOP
;tool on zero of sensor
FN18: SYSREAD Q28 = ID240 NR1 IDX3
FN0: Q4 = 18.892000
FN9: IF +Q28 EQU -10 GOTO LBL2
Q4 = Q28 -  Q5
LBL2
Q28 = Q4
FN0: Q37 = 18
FN0: Q36 = +0.000
L Z-10 FMAX M91
;C40-32ERP412] 16.0mm JOBBER DRILL FLUTE LEN 132.0 FLUTE EXT 144.0
TOOL DEF 118 L+0.000 R+8.000
TOOL CALL 118 Z S3500
STOP
;tool on zero of sensor
FN18: SYSREAD Q38 = ID240 NR1 IDX3
FN0: Q4 = 0.000000
FN9: IF +Q38 EQU -10 GOTO LBL3
Q4 = Q38 -  Q5
LBL3
Q38 = Q4
FN0: Q47 = 4
FN0: Q46 = +0.000
L Z-10 FMAX M91
;C40-16ERP412] 16MM CRB 2FL 32 LOC FLUTE LEN 32.0 FLUTE EXT 60.0
TOOL DEF 104 L+0.000 R+8.000
TOOL CALL 104 Z S3500
STOP
;tool on zero of sensor
FN18: SYSREAD Q48 = ID240 NR1 IDX3
FN0: Q4 = 0.000000
FN9: IF +Q48 EQU -10 GOTO LBL4
Q4 = Q48 -  Q5
LBL4
Q48 = Q4
FN0: Q57 = 2
FN0: Q56 = +0.000
L Z-10 FMAX M91
;C40-M10EM2] 10MM CRB 2FL 22 LOC FLUTE LEN 22.0 FLUTE EXT 50.0
TOOL DEF 102 L+0.000 R+5.000
TOOL CALL 102 Z S3500
STOP
;tool on zero of sensor
FN18: SYSREAD Q58 = ID240 NR1 IDX3
FN0: Q4 = 1.000000
FN9: IF +Q58 EQU -10 GOTO LBL5
Q4 = Q58 -  Q5
LBL5
Q58 = Q4
FN0: Q67 = 1
FN0: Q66 = +0.000
L Z-10 FMAX M91
;C40-M06EM2] 6MM CRB 2FL 19 LOC FLUTE LEN 19.0 FLUTE EXT 25.0
TOOL DEF 101 L+0.000 R+3.000
TOOL CALL 101 Z S3500
STOP
;tool on zero of sensor
FN18: SYSREAD Q68 = ID240 NR1 IDX3
FN0: Q4 = 1.000000
FN9: IF +Q68 EQU -10 GOTO LBL6
Q4 = Q68 -  Q5
LBL6
Q68 = Q4
FN0: Q77 = 15
FN0: Q76 = +0.000
L Z-10 FMAX M91
;C40-32ERP412] 20MM X 90DEG CRB SPOT DRILL FLUTE LEN 20.0 FLUTE EXT 25.0
TOOL DEF 115 L+0.000 R+10.000
TOOL CALL 115 Z S3500
STOP
;tool on zero of sensor
FN18: SYSREAD Q78 = ID240 NR1 IDX3
FN0: Q4 = 18.892000
FN9: IF +Q78 EQU -10 GOTO LBL7
Q4 = Q78 -  Q5
LBL7
Q78 = Q4
FN0: Q87 = 19
FN0: Q86 = +0.000
L Z-10 FMAX M91
;C40-32ERP412] 16.5mm JOBBER DRILL FLUTE LEN 132.0 FLUTE EXT 180.0
TOOL DEF 119 L+0.000 R+8.250
TOOL CALL 119 Z S3500
STOP
;tool on zero of sensor
FN18: SYSREAD Q88 = ID240 NR1 IDX3
FN0: Q4 = 0.000000
FN9: IF +Q88 EQU -10 GOTO LBL8
Q4 = Q88 -  Q5
LBL8
Q88 = Q4
FN0: Q97 = 20
FN0: Q96 = +0.000
L Z-10 FMAX M91
;C40-32ERP412] 15.0mm JOBBER DRILL FLUTE LEN 132.0 FLUTE EXT 144.0
TOOL DEF 120 L+0.000 R+7.500
TOOL CALL 120 Z S3500
STOP
;tool on zero of sensor
FN18: SYSREAD Q98 = ID240 NR1 IDX3
FN0: Q4 = 0.000000
FN9: IF +Q98 EQU -10 GOTO LBL9
Q4 = Q98 -  Q5
LBL9
Q98 = Q4
FN15: PRINT Q7/Q8/Q9
FN15: PRINT Q10/Q11/Q12
FN15: PRINT Q20/Q21/Q22
FN15: PRINT Q6/Q2/Q5
FN15: PRINT Q17/Q16/Q18
FN15: PRINT Q27/Q26/Q28
FN15: PRINT Q37/Q36/Q38
FN15: PRINT Q47/Q46/Q48
FN15: PRINT Q57/Q56/Q58
FN15: PRINT Q67/Q66/Q68
FN15: PRINT Q77/Q76/Q78
FN15: PRINT Q87/Q86/Q88
FN15: PRINT Q97/Q96/Q98
END PGM 0TREF MM
