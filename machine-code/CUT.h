BEGIN PGM RECTIFI MM 
CYCL DEF 7.0 PONTO ZERO
CYCL DEF 7.1  X+0
CYCL DEF 7.2  Y+0
CYCL DEF 7.3  Z+0
; 125 mm cutter as tool 59
TOOL CALL 59 Z S250
STOP
; Tool touch middle of xmin plane
FN 18: SYSREAD Q11 = ID270 NR1 IDX1
STOP
; Tool touch middle of xmax plane
FN 18: SYSREAD Q12 = ID270 NR1 IDX1
STOP
; Tool touch middle of ymin plane
FN 18: SYSREAD Q21 = ID270 NR1 IDX2
STOP
; Tool touch middle of ymax plane
FN 18: SYSREAD Q22 = ID270 NR1 IDX2
STOP
M3 M8
LBL 1 
Q11 = Q11+2
Q21 = Q21+2
Q12 = Q12-2
Q22 = Q22-2
L X+Q11 F100
L Y+Q21 F100
L X+Q12 F100
L Y+Q22 F100
L X+Q11 F100
FN 11: IF +Q11 GT Q12 GOTO LBL 2
FN 11: IF +Q21 GT Q22 GOTO LBL 2
CALL LBL 1 REP 20/20
LBL2
M9 M5
END PGM RECTIFI MM 