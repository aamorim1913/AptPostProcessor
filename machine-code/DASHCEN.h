BEGIN PGM DASHCEN MM
CYCL DEF 7.0 DATUM SHIFT
CYCL DEF 7.1  X+0
CYCL DEF 7.2  Y+0
L Z-10 FMAX M91 M9
TOOL CALL 0 Z S5
STOP
; set to xmin
FN18: SYSREAD Q10 = ID270 NR1 IDX1
STOP
; set to xmax
FN18: SYSREAD Q11 = ID270 NR1 IDX1
STOP
; set to ymin
FN18: SYSREAD Q20 = ID270 NR1 IDX2
STOP
; set to ymax
FN18: SYSREAD Q21 = ID270 NR1 IDX2
Q1 = Q10 / 2 + Q11 /2
Q2= Q20 / 2 + Q21 /2
STOP
; clear away to go up
L Z-10 FMAX M91 
L X+Q1 Y+Q2 FMAX
STOP
; At center. Go down and set datum.
FN0 : Q1 = -200.66
FN0 : Q2 = -193.7836
FN0 : Q3 = -338.3841
FN18: SYSREAD Q10 = ID270 NR1 IDX1
FN18: SYSREAD Q13 = ID240 NR1 IDX1
FN18: SYSREAD Q11 = ID270 NR1 IDX2
FN18: SYSREAD Q14 = ID240 NR1 IDX2
FN18: SYSREAD Q12 = ID270 NR1 IDX3
FN18: SYSREAD Q15 = ID240 NR1 IDX3
Q60 = Q13 - Q10 - Q1
Q61 = Q14 - Q11 - Q2
Q62 = Q15 - Q12 - Q3
FN15: PRINT Q61/Q62/Q63
FN15: PRINT Q10/Q11/Q12
FN15: PRINT Q10/Q11/Q12
FN15: PRINT Q10/Q11/Q12
FN15: PRINT Q10/Q11/Q12
FN15: PRINT Q10/Q11/Q12
END PGM DASHCEN MM
